本の説明

<div>
    ISBN13：<input id="isbn" type="text" disabled="disabled" name="isbn" value="<%= params[:isbn] %>" autofocus>
</div>
<div>
    <p id="thumbnail"></p>
</div>
<div>
    書籍名：<input id="title" type="text" disabled="disabled" name="title" value="">
</div>
<div>
    出版社：<input id="publisher" type="text" name="publisher" value="">
</div>
<div>
    巻：<input id="volume" type="text" name="volume" value="">
</div>
<div>
    シリーズ：<input id="series" type="text" name="series" value="">
</div>
<div>
    著者：<input id="author" type="text" name="author" value="">
</div>
<div>
    出版日：<input id="pubdate" type="text" name="pubdate" value="">
</div>
<div>
    サムネイルURI：<input id="cover" type="text" name="cover" value="">
</div>
<div>
    詳細：<textarea id="description" type="text" name="description" value=""></textarea>
</div>
<script>
$(document).on('turbolinks:load', function() {
    const isbn = $("#isbn").val();
    const url = "https://api.openbd.jp/v1/get?isbn=" + isbn;
    $.getJSON(url, function(data) {
        if (data[0] == null) {
        } else {
            if (data[0].summary.cover == "") {
                $("#thumbnail").html('<img src=\"\" />');
            } else {
                $("#thumbnail").html('<img src=\"' + data[0].summary.cover + '\" style=\"border:solid 1px #000000\" />');
            }
            $("#title").val(data[0].summary.title);
            $("#publisher").val(data[0].summary.publisher);
            $("#volume").val(data[0].summary.volume);
            $("#series").val(data[0].summary.series);
            $("#author").val(data[0].summary.author);
            $("#pubdate").val(data[0].summary.pubdate);
            $("#cover").val(data[0].summary.cover);
            $("#description").val(data[0].onix.CollateralDetail.TextContent[0].Text);
        }
    });
});
</script>
